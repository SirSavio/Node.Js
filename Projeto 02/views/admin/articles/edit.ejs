<%- include('../../partials/header.ejs') %>

    <body>
        <%- include('../../partials/navbar.ejs') %>

            <div class="container pt-5">
                <hr>
                <div class="card row">
                    <div class="card-header bg-dark text-white">
                        <h2 class="text-center">Editar <%= article.title %> </h2>
                    </div>
                    <form action="/articles/update" method="POST" class="col-10 align-self-center pt-5">
                        <input class="form-control row-10 mb-3" type="text" name="title" placeholder="Defina o nome da artigo" value="<%= article.title %>">
                        <input type="hidden" name="id" value="<%= article.id %>">
                        <textarea id="body" name="body" class="form-control" placeholder="Escreve o artigo" id="" cols="30" rows="10"><%= article.body %> </textarea>
                        <select name="category" class="form-control mt-3">
                            <% categories.forEach(category => { %>
                                <% if (category.id = article.CategoryId) { %>
                                    <option selected value="<%= category.id %>"><%= category.title %></option>
                                <% }else{ %>
                                    <option value="<%= category.id %>"><%= category.title %></option>
                                <% } %> 
                            <% }) %>
                        </select>
                        <div align='center' class="mt-3 mb-5">
                            <button type="submit" class="btn btn-success">Salvar</button>
                        </div>
                    </form>
                </div>

            </div>

    </body>
    <%- include('../../partials/footer.ejs') %>
    <script src="/tinymce/tinymce.min.js"></script>
    <script>
        tinymce.init({
            selector: "#body",
            plugins: [
                'advlist autolink link image lists print preview hr searchreplace wordcount fullscreen insertdatetime media save table paste emoticons'
            ],
            language: 'pt_BR'
        })
    </script>
